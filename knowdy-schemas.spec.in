Buildroot: @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/@CPACK_PACKAGE_FILE_NAME@
Summary: 	GSL schemas: formal definitions of semantic classes for Knowdy
Name: 		@CPACK_PACKAGE_NAME@
Version:	@CPACK_PACKAGE_VERSION@
Release:	@CPACK_PACKAGE_RELEASE@
License:	@AGPLv3
Vendor:		@CPACK_PACKAGE_VENDOR@
Prefix:		@CPACK_PACKAGING_INSTALL_PREFIX@
Requires:	knowdy


%define __rpmdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM
%define __rpmfilename @CPACK_PACKAGE_FILE_NAME@.rpm
%define __unpackaged_files_terminate_build 0
%define _topdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM

%define knowdy_schemas_dir %{_sysconfdir}/knowdy/schemas

%description
GSL schemas: formal definitions of semantic classes for knowdy

%prep
mv $RPM_BUILD_ROOT @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot

%install
if [ -e $RPM_BUILD_ROOT ];
then
  rm -Rf $RPM_BUILD_ROOT
fi
mv "@CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot" $RPM_BUILD_ROOT

#%{__install} -p -d -m 0755 %{buildroot}/%{knowdy_schemas_dir}

%files
%defattr(-,root,root,-)

%attr(-,knowdy,knowdy) %dir %{knowdy_schemas_dir}
@CPACK_PACKAGING_INSTALL_PREFIX@/%{knowdy_schemas_dir}/basic/*

